import"./modulepreload-polyfill-3cfb730f.js";import{V as c,m as p,a as d}from"./mapSource-79018fe4.js";import{c as w,a as y}from"./util-407bc242.js";import{e as u,T as a}from"./tween.module-e5a426a4.js";const n=w(d,p),s=new c(108,34,0),g=new c(108,0,1e4),t=y("#map",n,s,g);t.controls.saveState();document.querySelector("#jump").addEventListener("click",()=>{const o=n.localToWorld(n.geo2pos(new c(107.8,34,0))),e=n.localToWorld(n.geo2pos(new c(107.9,34,7.8)));console.log(e,o),t.camera.position.copy(e),t.controls.target.copy(o),t.controls.dispatchEvent({type:"change"})});document.querySelector("#timer").addEventListener("click",()=>{const o=n.localToWorld(n.geo2pos(new c(110,34,0)));t.controls.target.copy(o);const e=t.camera.position;e.set(s.x,s.y,1e4);const r=setInterval(()=>{e.add(new c(0,-200,0)),e.y<2e3&&clearInterval(r)},20)});document.querySelector("#tween").addEventListener("click",()=>{const o=new c(138.7168714361765,35.293034242886165,4.138178498736728),e=new c(138.73205716638114,35.35132576846971,0);P(o,e)});document.querySelector("#reset").addEventListener("click",()=>{t.controls.reset()});const v=(o,e)=>{t.controls.target.copy(e);const r=t.camera.position;new a(r).to({y:1e4,z:0},500).chain(new a(r).to(o)).start()},P=(o,e)=>{const r=m=>n.localToWorld(n.geo2pos(m)),l=r(o),i=r(e);v(l,i)};t.addEventListener("update",()=>u.update());
