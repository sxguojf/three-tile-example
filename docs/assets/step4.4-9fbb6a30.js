var l=Object.defineProperty;var u=(r,e,a)=>e in r?l(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a;var i=(r,e,a)=>(u(r,typeof e!="symbol"?e+"":e,a),a);import"./modulepreload-polyfill-3cfb730f.js";import{bd as d,aX as m,J as w,u as f,c as p,V as c,Q as h,s as x,a as g,m as k}from"./mapSource-e82aaabe.js";class M{constructor(){i(this,"dataType","watermark");i(this,"_texture")}load(e,a,o,t){this._texture||(this._texture=new m(this.drawWaterMark(e.attribution)),this._texture.needsUpdate=!0);const s=new w({transparent:!0,map:this._texture,opacity:e.opacity});return setTimeout(o),s}drawWaterMark(e){const o=new OffscreenCanvas(256,256),t=o.getContext("2d");return t.scale(1,-1),t.translate(0,-256),t&&(t.fillStyle="white",t.shadowColor="black",t.shadowBlur=5,t.shadowOffsetX=1,t.shadowOffsetY=1,t.font="bold 14px arial",t.textAlign="center",t.translate(256/2,256/2),t.rotate(30*Math.PI/180),t.fillText(`${e}`,0,0)),o.transferToImageBitmap()}}d.registerMaterialLoader(new M);const T=f.create({attribution:"three-tile",dataType:"watermark"});function S(){const r=[g,T],e=k,a=new p({imgSource:r,demSource:e,lon0:90,minLevel:2,maxLevel:20});return a.rotateX(-Math.PI/2),a}function _(r,e){const a=new c(110,35,0),o=new c(110,34.9,10),t=e.localToWorld(e.geo2pos(a)),s=e.localToWorld(e.geo2pos(o)),n=new h.GLViewer(r,{centerPostion:t,cameraPosition:s});return n.scene.add(e),n.scene.background=new x(0),n}const b=S();_("#map",b);
